%addpath('/Users/annapeng/Dropbox/Anna/PhD Year 1/Codes/Task Switch Code/results/resampling_statistical_toolkit/statistics');
clear

addpath(genpath('/Users/annapeng/Dropbox/Anna/PhD Year 1/Codes/TS/results'));

result={'Age','Months', 'ID','Gender','Condition',...
'RT', 'Accuracy',...
'PureCase', 'PureRT', 'MixCase', 'MixRT',...
'PureRepCase' 'PureRepRT', 'PureCueCase', 'PureCueRT',...
'MixRepCase', 'MixRepRT', 'MixSwiCase', 'MixSwiRT',...
'PRspRCase', 'PRspRRT', 'PRspSCase', 'PRspSRT',...
'MRspRCase', 'MRspRRT', 'MRspSCase', 'MRspSRT',...
'CongCase', 'CongRT', 'IncongCase', 'InconRT',...
'PureCorrect', 'PureRepCorrect', 'MixCorrect',...
'MixRepCorrect', 'MixSwiCorrect',...
'PureOmi', 'MixOmi', 'PRepOmi','MRepOmi','MSwiOmi','TotalOmi',...
'PureCom', 'MixCom', 'PRepCom','MRepCom', 'MSwiCom', 'TotalCom','Com2All', 'AllError',...
'SwCongCase', 'SwCongRT',...
'SwinCCase', 'SwinCRT',...
'RepCongCase', 'RepCongRT',...
'RepIncCase', 'RepIncRT'...
'T2pure', 'T3pure', 'T4pure'...
'T2mix', 'T3mix', 'T4mix', 'incPureRT', 'incMixRT','incPureRepInc', 'incMixRep', 'PrePureError', 'PreMixError'};


save_name=input('Save File As- ' ,'s');
result_file=[save_name '.mat'];
file_dir=cd; %input('file directory- ' ,'s');
All_files=dir( [file_dir, '/*.csv']);
save(result_file,'result');
Filenames={All_files.name};

nfile=length(Filenames);

for i=1:nfile
    file=char(Filenames(i));
    within_subject_boots(file , result_file)
end


load(result_file);
write_results(result, save_name)